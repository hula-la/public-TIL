## 동시성 처리 방법

#### **대기열 관리에 사용할 Redis 데이터 타입 결정**

redis는 List, Set, Sorted Set같은 데이터 타입을 제공합니다.

이 중에서 요구조건을 잘 충족시킬 수 있는 타입이 어떤 것인지 비교해봤습니다.

 

**선착순 조건 만족**

우선, 선착순 쿠폰 발급 이벤트에 필요한 것은 요청 순서에 따라 쿠폰을 발급할 수 있어야 합니다.

따라서, queue를 구현할 수 있는 자료 구조는 List, Sorted Set이 있습니다.

 

##### List

- 대기열을 추가하는 데 사용할 수 있는 RPUSH는 O(1)의 시간 복잡도로 사용할 수 있습니다.
- 대기열에서 대상을 가져오는 데 사용할 수 있는 LPOP은 O(1)의 시간 복잡도로 사용할 수 있습니다.

 

##### Sorted Set

- sorted set은 특정 score를 기반으로 정렬하므로 score로 TimeStamp를 사용할 수 있습니다.
- 대기열을 추가하는 데 사용할 수 있는 ZADD는 O(log(N))의 시간 복잡도로 사용할 수 있습니다.
- 대기열에서 대상을 가져오는 데 사용할 수 있는 ZPOPMIN은 O(log(N))의 시간 복잡도로 사용할 수 있습니다.
