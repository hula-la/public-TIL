# 🤔 좋아요 기반 정렬은 어떻게 하면 좋을까? #14

### 개요

 때는 배달 프로젝트를 할 때였다. 커서기반 페이지네이션을 이용해서 좋아요 순으로 가게를 조회할 때 어떤 방법을 사용해야 성능을 높일 수 있을까에 대해 열심히 고민을 해봤었다. 가게의 좋아요수는 쓰기 작업이 많이 일어나는 필드라서 인덱스 설정하기엔 좋지 않아보이는데, 또 인덱스로 성능 최적화를 하지 않으면 데이터가 클 경우 성능 저하가 많이 발생할 거 같았다. 그래서 난 좋아요수 정렬을 사용하는 다른 IT 서비스를 참고해봤다. 배달의 민족 또는 음악 앱 등 대부분의 서비스들은 배치를 사용하여 실시간성은 보장하지 않지만 사용자 경험을 택한 것 같았고, 네이버는 좋아요 순 정렬이 대부분 없었다 (그 당시 땐 플레이스 서비스를 참고해서 그런지 못찾았다). 하지만 네이버 웹툰을 보다가 바로 이 기능을 발견했다. 바로 그건,,,,, **베스트 댓글** 이다. 좋아요 순을 정렬해서 상위 몇 개의 데이터들은 베스트 댓글로 선정이 되는데, 이건 실시간성도 보장하는 것을 확인했다. 아무튼 그래서 결론은 이건 어떻게 구현했을까에 대해서 고민하다가 난 결국 order by와 같은 단순 정렬을 생각을 하게 됐다.



### 결론

길게 쓸 생각이었는데, 재준님이랑 얘기를 해봐도 결국은 단순 정렬로 귀결됐다.. 